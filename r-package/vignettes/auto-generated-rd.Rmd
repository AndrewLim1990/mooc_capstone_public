<h1>Visualize EdX Student Data</h1>

<p><strong>Authors:</strong> <a href="mailto:matthew.emery44@gmail.com">Matthew Emery</a> [aut, cre],<a href="mailto:davidkendalllaing@gmail.com">David Laing</a> [aut],<a href="mailto:andrewlim90@gmail.com">Andrew Lim</a> [aut],<a href="mailto:subi.zhangg@gmail.com">Subi Zhang</a> [aut]</p>
<p><strong>Version:</strong> 0.0.0.9000</p>
<p><strong>License:</strong> MIT + file LICENSE</p>

<h4>Description</h4>
<p>What the package does (one paragraph).</p>

<h4>Depends</h4>
<p>
shiny,
shinyBS,
tidyverse</p>

<h4>Imports</h4>
<p>
DT,
ggthemes,
gsubfn,
lubridate,
plotly,
reshape2,
tidyjson,
viridis,
wordcloud,
XML,
zoo</p>

<h4>Suggests</h4>
<p>
devtools,
testthat,
packagedocs</p>



  ```{r packagedocs_load_library, echo=FALSE}
  suppressWarnings(suppressMessages(
    library(edxviz,
      quietly = TRUE, warn.conflicts = FALSE, verbose = FALSE
    )
  ))
  ```
  

# Package Functions





## apply_forum_filters

<a id="apply_forum_filters_alias"></a><h3>Apply the selected filter settings to the forum data.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>apply_forum_filters(input_df, activity_level&nbsp;=&nbsp;"All", gender&nbsp;=&nbsp;"All", registration_status&nbsp;=&nbsp;"All", category&nbsp;=&nbsp;"All")</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_df</dt>
  <dd class="rd-dd">The input dataframe.</dd>
  <dt>activity_level</dt>
  <dd class="rd-dd">One of <code>under_30_min</code>, <code>30_min_to_5_hr</code>, <code>over_5_hr</code>, or (default) <code>All</code>.</dd>
  <dt>gender</dt>
  <dd class="rd-dd">One of <code>male</code>, <code>female</code>, <code>other</code>, or (default) <code>All</code>.</dd>
  <dt>registration_status</dt>
  <dd class="rd-dd">One of <code>audit</code>, <code>verified</code>, or (default) <code>All</code>.</dd>
  <dt>category</dt>
  <dd class="rd-dd">One of the forum categories.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>filtered_df</code> A dataframe filtered by the selected settings.
</dl></p>



<h4>Examples</h4>
```{r apply_forum_filters_id_1, eval = TRUE }
apply_forum_filters(forum_posts, "All", "All", "All")

```





## calculate_percent_correct_tbl

<a id="calculate_percent_correct_tbl_alias"></a><h3>Calculate the percent of correct answers</h3>

<p class="rd-p">Each row represents a problem.</p>

<h4>Usage</h4>
<pre class="r"><code><div>calculate_percent_correct_tbl(joined_scores, number_correct)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>joined_scores</dt>
  <dd class="rd-dd">`problems_tbl` and `lookup_table` joined by `id` and
`item_response`</dd>
  <dt>number_correct</dt>
  <dd class="rd-dd">the result of `tally_correct_answer`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe where each row is a row and the columns show the
  percentage and absolute number of students that got the problem correct.
</dl></p>








## check_integrity

<a id="check_integrity_alias"></a><h3>Checks to make sure start and end data passes sanity checks</h3>

<p class="rd-p">Returns a boolean of whether or not start and end data makes sense. This checks for NA values,
end times that are passed the maximum length of the video, and extremely long and short watch durations. 
The threshold for watch durations can be adjusted in the global constants: <code>MIN_DURATION</code> and <code>MAX_DURATION</code></p>

<h4>Usage</h4>
<pre class="r"><code><div>check_integrity(start, end, max_stop_position)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>start</dt>
  <dd class="rd-dd">Time into video that the user has started watching the video</dd>
  <dt>end</dt>
  <dd class="rd-dd">Time into the video that the user has stopped watching the video</dd>
  <dt>max_stop_position</dt>
  <dd class="rd-dd">Length of the video being watched</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>integrity</code>: Boolean of whether or not the data passes integrity checks
</dl></p>



<h4>Examples</h4>
```{r check_integrity_id_4, eval = TRUE }
check_integrity(start, end, max_stop_position)

```





## clean_engagement_data

<a id="clean_engagement_data_alias"></a><h3>Clean engagement data into tidy format</h3>


<h4>Usage</h4>
<pre class="r"><code><div>clean_engagement_data(dirt_engagement_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>dirt_engagement_data</dt>
  <dd class="rd-dd">tower_engage_dirt dataframe object</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
dirt_engagement_data
</dl></p>



<h4>Examples</h4>
```{r clean_engagement_data_id_5, eval = TRUE }
clean_engagement_data(dirt_engagement_data = obtain_dirt_engagement_data)

```





## clean_multiple_choice

<a id="clean_multiple_choice_alias"></a><h3>Clean a demographic multiple choice CSV</h3>

<p class="rd-p">This function cleans a CSV retrieved from the `demographic_multiple_choice`
SQL script. It transforms the `sum_dt` column into activity_level. It also
removes any non-multiple choice problems.</p>

<h4>Usage</h4>
<pre class="r"><code><div>clean_multiple_choice(raw_csv)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>raw_csv:</dt>
  <dd class="rd-dd">A dataframe from the read_csv</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe with the same dimensions as the CSV
</dl></p>








## creat_link_table

<a id="creat_link_table_alias"></a><h3>create the link summary table : external hyperlink and number of click</h3>


<h4>Usage</h4>
<pre class="r"><code><div>creat_link_table(link_summary)</div></code></pre>

  <h4>Value</h4>

  <p class="rd-p"><dl>
link_df
</dl></p>



<h4>Examples</h4>
```{r creat_link_table_id_10, eval = TRUE }
creat_link_table(link_summary = reactive_link_dat())

```





## creat_page_table

<a id="creat_page_table_alias"></a><h3>create a page summary table to show page(name,clickable hyperlink) and its page view sorted by pageview in descending order</h3>


<h4>Usage</h4>
<pre class="r"><code><div>creat_page_table(page_summary)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>page_summary</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
page_df
</dl></p>



<h4>Examples</h4>
```{r creat_page_table_id_11, eval = TRUE }
creat_page_table(page_summary = reactive_page())

```





## create_module_name

<a id="create_module_name_alias"></a><h3>Create a new column "chapter_name" for course item dataframe in order to implementing module filtering</h3>


<h4>Usage</h4>
<pre class="r"><code><div>create_module_name(item_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>item_df</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
item_df
</dl></p>



<h4>Examples</h4>
```{r create_module_name_id_12, eval = TRUE }
create_module_name(item_df = tower_item)

```





## create_question_lookup_from_json

<a id="create_question_lookup_from_json_alias"></a><h3>Parse a JSON object and return it as a flat dataframe.</h3>

<p class="rd-p">This function is required to convert the JSON derived from the xbundle XML
into a format that other dataframes can interact with.</p>

<h4>Usage</h4>
<pre class="r"><code><div>create_question_lookup_from_json(name_lookup)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>name_lookup</dt>
  <dd class="rd-dd">A JSON object contain keys for `id`, `problem`,
`chapter_name`, `chapter_name`, `choices`, `correct_id` and `correct`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A flat dataframe with the above columns
</dl></p>








## extract_assessment_csv

<a id="extract_assessment_csv_alias"></a><h3>Convert a CSV respresenting an open_assessment.sql query into a usable format</h3>

<p class="rd-p">Extracts the nececessary information from event JSON and discards it. Points
possible should always be the same for each assessment.</p>

<h4>Usage</h4>
<pre class="r"><code><div>extract_assessment_csv(assessment_tbl)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>assessment_tbl</dt>
  <dd class="rd-dd">Extracts the nececessary information from event JSON and discards it. Points
possible should always be the same for each assessment.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
An extracted table
</dl></p>








## extract_assessment_json

<a id="extract_assessment_json_alias"></a><h3>Convert a JSON object into a tidyJSON dataframe</h3>


<h4>Usage</h4>
<pre class="r"><code><div>extract_assessment_json(assessment_json)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>assessment_json</dt>
  <dd class="rd-dd">An JSON file generated through `xml_extraction <course> --assessments`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A flattened dataframe with the columns `url_name`, `title`, `label`, `name`
</dl></p>








## filter_chapter_linkpage

<a id="filter_chapter_linkpage_alias"></a><h3>Filter course items dataframe by the selected course module module</h3>


<h4>Usage</h4>
<pre class="r"><code><div>filter_chapter_linkpage(input_df, module&nbsp;=&nbsp;"All")</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>module</dt>
  <dd class="rd-dd">One of the modules of the course</dd>
  <dt>item_df</dt>
  <dd class="rd-dd">The course items dataframe.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe filtered by the selected course module
</dl></p>



<h4>Examples</h4>
```{r filter_chapter_linkpage_id_16, eval = TRUE }
filter_chapter(tower_item, "all")

```





## filter_chapter_overview

<a id="filter_chapter_overview_alias"></a><h3>Filter course items dataframe by the selected course module</h3>


<h4>Usage</h4>
<pre class="r"><code><div>filter_chapter_overview(input_df, module&nbsp;=&nbsp;"All")</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>module</dt>
  <dd class="rd-dd">One of the modules of the course</dd>
  <dt>item_df</dt>
  <dd class="rd-dd">The course items dataframe.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe filtered by the selected course module
</dl></p>



<h4>Examples</h4>
```{r filter_chapter_overview_id_17, eval = TRUE }
filter_chapter_oveview(tower_item, "all")

```





## filter_counts

<a id="filter_counts_alias"></a><h3>Count the number of filtered users for each problem</h3>


<h4>Usage</h4>
<pre class="r"><code><div>filter_counts(joined_user_problems)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>joined_user_problems</dt>
  <dd class="rd-dd">The result of `join_users_problems`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe with the count of unique users for each question
</dl></p>








## filter_demographics

<a id="filter_demographics_alias"></a><h3>Filter student engagement dataframe by the selected demographics</h3>


<h4>Usage</h4>
<pre class="r"><code><div>filter_demographics(engage_df, gender&nbsp;=&nbsp;"All", mode&nbsp;=&nbsp;"All", activity_level&nbsp;=&nbsp;"All")</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>engage_df</dt>
  <dd class="rd-dd">The student engagement dataframe.</dd>
  <dt>gender</dt>
  <dd class="rd-dd">One of "male", "female", "other", or (default) "all".</dd>
  <dt>activity_level</dt>
  <dd class="rd-dd">It refers to the total time each student spent on the course.There are 4 levels: "under_30_min", "30_min_to_5_hr", "over_5_hr", or (default) "all".</dd>
  <dt>registration_status</dt>
  <dd class="rd-dd">One of "audit", "verified", or (default) "all".</dd>
  <dt>module</dt>
  <dd class="rd-dd">One of the modules of the course</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe filtered by the selected demographics.
</dl></p>



<h4>Examples</h4>
```{r filter_demographics_id_19, eval = TRUE }
filter_demographics(engage_df = tower_engage, gender = "all", mode = "all", activity_level = "all")

```





## filter_extreme_problem_choices

<a id="filter_extreme_problem_choices_alias"></a><h3>Retrieve the question and choice information from the extreme problems</h3>


<h4>Usage</h4>
<pre class="r"><code><div>filter_extreme_problem_choices(lookup_table, extreme_problems, filtered_counts)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>lookup_table</dt>
  <dd class="rd-dd">The result of `create_question_lookup_from_json`</dd>
  <dt>extreme_problems</dt>
  <dd class="rd-dd">The result of `get_extreme_summarised_score`</dd>
  <dt>filtered_counts</dt>
  <dd class="rd-dd">The result of `filter_counts`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe with lookup information attached
</dl></p>








## filter_valid_questions

<a id="filter_valid_questions_alias"></a><h3>Filter out invalid multiple choice problems</h3>

<p class="rd-p">Removes problems that were marked as 100
problems where every answer is correct). Also checks from the dataframe
derived from xbundle to ensure that the problem exists in the course.</p>

<h4>Usage</h4>
<pre class="r"><code><div>filter_valid_questions(problems_tbl, lookup_table)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>problems_tbl</dt>
  <dd class="rd-dd">The result of `read_multiple_choice_csv`</dd>
  <dt>lookup_table</dt>
  <dd class="rd-dd">The result of `create_question_lookup_from_json`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The filtered problems_tbl
</dl></p>








## get_activity_levels

<a id="get_activity_levels_alias"></a><h3>Convert sum_dt to activity_level.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_activity_levels(forum)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>forum</dt>
  <dd class="rd-dd">A forum dataframe.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The same dataframe with a new column for activity_level.
</dl></p>








## get_aggregated_df

<a id="get_aggregated_df_alias"></a><h3>Aggregates dataframe by video and segment</h3>

<p class="rd-p">Aggregates input dataframe by video (video_id) and segment (min_into_video).
Additionally, adds columns:
- <code>unique_views</code>/<code>`Students`</code> (number of learners who started the video),
- <code>watch_rate</code>/<code>`Views per Student`</code> (number of students who have watched the segment divided by unique_views),
- <code>avg_watch_rate</code> (average of watch_rate per video)</p>

<h4>Usage</h4>
<pre class="r"><code><div>get_aggregated_df(filt_segs, top_selection, top_selection2)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filt_segs</dt>
  <dd class="rd-dd">Dataframe containing students that have been filtered by selected demographics. Typically
obtained via <code>filter_demographics()</code></dd>
  <dt>top_selection</dt>
  <dd class="rd-dd">Value of the number of top segments to highlight.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>aggregate_segment_df</code>: Aggregated dataframe with additional columns
</dl></p>



<h4>Examples</h4>
```{r get_aggregated_df_id_26, eval = TRUE }
get_aggregated_df(filt_segs, 25)

```





## get_ch_markers

<a id="get_ch_markers_alias"></a><h3>Obtains locations of chapter lines to be placed on visualizations</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_ch_markers(filt_segs)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filt_segs</dt>
  <dd class="rd-dd">Dataframe containing students that have been filtered by selected demographics. Typically
obtained via <code>filter_demographics()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>ch_markers</code>: List of values of where to place chapter lines on visualizations
</dl></p>



<h4>Examples</h4>
```{r get_ch_markers_id_28, eval = TRUE }
get_ch_markers(filt_segs)

```





## get_click_per_link

<a id="get_click_per_link_alias"></a><h3>Compute how many times each external link have been clicked</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_click_per_link(link_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>link_df</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
link_num
</dl></p>



<h4>Examples</h4>
```{r get_click_per_link_id_29, eval = TRUE }
get_click_per_link(link_df = link_dat)

```





## get_discussion_vars_json

<a id="get_discussion_vars_json_alias"></a><h3>Get the variables associated with each forum element in the JSON file. (for use in <code>prepare_json</code>).</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_discussion_vars_json(i, all_elements)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>i</dt>
  <dd class="rd-dd">An iterator.</dd>
  <dt>all_elements</dt>
  <dd class="rd-dd">A nested list containing attributes for each course element.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A vector containing the <code>commentable_id</code>, <code>display_name</code>, <code>discussion_category</code>, and <code>discussion_target</code> of a course element.
</dl></p>








## get_discussion_vars_xml

<a id="get_discussion_vars_xml_alias"></a><h3>Get the variables associated with each forum element in the XML file (for use in <code>prepare_xml</code>).</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_discussion_vars_xml(i, all_parameters)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>i</dt>
  <dd class="rd-dd">An iterator.</dd>
  <dt>all_parameters</dt>
  <dd class="rd-dd">An XML tree containing all the parameters associated with each discussion node.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A vector containing the <code>display_name</code>, <code>discussion_category</code>, and <code>discussion_target</code> of a course element.
</dl></p>








## get_end_time

<a id="get_end_time_alias"></a><h3>Calculates video end time for non-video events using time stamps</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_end_time(start, time, time_ahead, latest_speed)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>start</dt>
  <dd class="rd-dd">Time into video that the user has started watching the video</dd>
  <dt>time</dt>
  <dd class="rd-dd">Time stamp of when the user started watching the video</dd>
  <dt>time_ahead</dt>
  <dd class="rd-dd">Time stamp of next event following the play event</dd>
  <dt>latest_speed</dt>
  <dd class="rd-dd">The speed at which the user was watching the video</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>end</code>: Time into video that the user has stopped watching
</dl></p>



<h4>Examples</h4>
```{r get_end_time_id_32, eval = TRUE }
get_end_time(start, time, time_ahead, latest_speed)

```





## get_extreme_summarised_scores

<a id="get_extreme_summarised_scores_alias"></a><h3>Select the easiest (or hardest) problems</h3>

<p class="rd-p">Set the index negative to receive the hardest problems.</p>

<h4>Usage</h4>
<pre class="r"><code><div>get_extreme_summarised_scores(summarised_scores, index)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>summarised_scores</dt>
  <dd class="rd-dd">the result of `get_mean_scores_filterable`</dd>
  <dt>index</dt>
  <dd class="rd-dd">the number of questions you wish to view</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The summarised scores dataframe with the with the number of rows
  equal to the absolute value of the index.
</dl></p>








## get_mean_scores_filterable

<a id="get_mean_scores_filterable_alias"></a><h3>A filterable version of get_mean_scores</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_mean_scores_filterable(filtered_problems_tbl)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filtered_problems_tbl</dt>
  <dd class="rd-dd">The result of `read_multiple_choice_csv` filtered
by demographics and chapter</dd>
  <dt>name_lookup</dt>
  <dd class="rd-dd">A JSON object contain keys for `id`, `problem`,
`chapter_name`, `chapter_name`, `choices`, `correct_id` and `correct`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe where each row is a row and the columns show the
  percentage and absolute number of students that got the question correct.
</dl></p>








## get_mean_scores

<a id="get_mean_scores_alias"></a><h3>Get mean scores.</h3>

<p class="rd-p">This function is not affected by filters. If you need a function that is, use
`get_mean_scores_filterable`. Removes scores that do not appear in the
xbundle XML or have a 100
questions masquerading as multiple choice problems.</p>

<h4>Usage</h4>
<pre class="r"><code><div>get_mean_scores(problems_tbl, lookup_table)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>problems_tbl</dt>
  <dd class="rd-dd">The result of `clean_multiple_choice`</dd>
  <dt>lookup_table</dt>
  <dd class="rd-dd">The result of `create_question_lookup_from_json`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe with each problem, the number of users that attempted
  the problem and the percent score
</dl></p>








## get_mode

<a id="get_mode_alias"></a><h3>Obtain most common value from list</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_mode(x)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>x</dt>
  <dd class="rd-dd">List containing integer values</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>mode</code>: The most common value within the list
</dl></p>



<h4>Examples</h4>
```{r get_mode_id_38, eval = TRUE }
get_mode(x=c(0,1,2,2,2,3))

```





## get_module_nactive

<a id="get_module_nactive_alias"></a><h3>Count how many filtered students engaged with the filtered course module</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_module_nactive(tower_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>tower_df</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
student_num
</dl></p>



<h4>Examples</h4>
```{r get_module_nactive_id_39, eval = TRUE }
get_module_nactive(reactive_tower_df())

```





## get_module_of_link

<a id="get_module_of_link_alias"></a><h3>Get which module each external link locate based on link tracklog data and course axis data</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_module_of_link(link_data, course_axis)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>link_data</dt>
  <dd class="rd-dd">dataframe containing the information of student click any links in the edx course</dd>
  <dt>course_axis</dt>
  <dd class="rd-dd">dataframe containing all elements in the edx course</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
link_data
</dl></p>



<h4>Examples</h4>
```{r get_module_of_link_id_40, eval = TRUE }
get_module_of_link(link_data = set_activity_level, course_axis = read_course_axis)

```





## get_module_vector: get_module_vector, get_module_vector

<a id="get_module_vector_alias"></a><h3>Create a module name vector sorted by the course structure index
This vector is used in the module filtering select box in ui.R</h3>

<p class="rd-p">Create a module name vector sorted by the course structure index
This vector is used in the module filtering select box in ui.R
Create a module name vector sorted by the course structure index
This vector is used in the module filtering select box in ui.R</p>

<h4>Usage</h4>
<pre class="r"><code><div>get_module_vector(item_df)</div>
<div>get_module_vector(item_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>item_df</dt>
  <dd class="rd-dd">Create a module name vector sorted by the course structure index
This vector is used in the module filtering select box in ui.R
Create a module name vector sorted by the course structure index
This vector is used in the module filtering select box in ui.R</dd>
  <dt>item_df</dt>
  <dd class="rd-dd">Create a module name vector sorted by the course structure index
This vector is used in the module filtering select box in ui.R
Create a module name vector sorted by the course structure index
This vector is used in the module filtering select box in ui.R</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
chap_name</p>

  <p class="rd-p">chap_name
</dl></p>



<h4>Examples</h4>
```{r get_module_vector_id_41, eval = TRUE }
get_module_vector(item_df = tower_item)

```





## get_nactive

<a id="get_nactive_alias"></a><h3>Compute how many students engaged with each course item after filtering student demographic</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_nactive(detail_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>detail_df</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
summary_df
</dl></p>



<h4>Examples</h4>
```{r get_nactive_id_42, eval = TRUE }
get_nactive(detail_df = tower_engage)

```





## get_page_name

<a id="get_page_name_alias"></a><h3>Get the name description of each page</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_page_name(page_name_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>page_name_df</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
each_page
</dl></p>



<h4>Examples</h4>
```{r get_page_name_id_43, eval = TRUE }
get_page_name(page_name_df = page_name_mapping)

```





## get_pageview

<a id="get_pageview_alias"></a><h3>Count the pageview of each page
Here, we set a threshold for only counting pages have been viewed by more than certain amount of students</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_pageview(filtered_log_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filtered_log_df</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
page_student
</dl></p>



<h4>Examples</h4>
```{r get_pageview_id_44, eval = TRUE }
get_pageview(filtered_log_df = log_dat)

```





## get_post_types

<a id="get_post_types_alias"></a><h3>Get the post types.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_post_types(forum)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>forum</dt>
  <dd class="rd-dd">A forum dataframe.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The same dataframe with a new column for post_type.
</dl></p>








## get_segment_comparison_plot

<a id="get_segment_comparison_plot_alias"></a><h3>Obtains heatmap plot comparing segments against each other</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_segment_comparison_plot(filtered_segments, module, filtered_ch_markers)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filtered_segments</dt>
  <dd class="rd-dd">Dataframe of segments and corresponding watch counts filtered by demographics</dd>
  <dt>module</dt>
  <dd class="rd-dd">String of module (chapter) name to display</dd>
  <dt>filtered_ch_markers</dt>
  <dd class="rd-dd">List of values containing locations of where to put chapter markers</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>g</code>: ggplot heatmap object
</dl></p>



<h4>Examples</h4>
```{r get_segment_comparison_plot_id_47, eval = TRUE }
get_segment_comparison_plot(filtered_segments, module, filtered_ch_markers)

```





## get_start_end_df

<a id="get_start_end_df_alias"></a><h3>Obtains start and end times for video events</h3>

<p class="rd-p">Parses dataframe and adds columns <code>start</code> and <code>end</code> showing
the start and end time that a user watched a video</p>

<h4>Usage</h4>
<pre class="r"><code><div>get_start_end_df(data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>data</dt>
  <dd class="rd-dd">Dataframe containing tracklog data of students. This is obtained typically
through <code>prepare_video_data()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>start_end_df</code>: Original dataframe with <code>start</code> and <code>end</code> columns
</dl></p>


  <h4>Details</h4>

  <p class="rd-p">This will have warning messages that can be ignored. Not sure why
they are popping up. Something to do with get_end_time and it being
evaluated with an entire column of data instead of just one value.
This only occurs once per call of get_end_time. I think its an
initialization issue.</p>



<h4>Examples</h4>
```{r get_start_end_df_id_48, eval = TRUE }
get_start_end_df(data = data)

```





## get_summary_table

<a id="get_summary_table_alias"></a><h3>Obtains video summary table to be used on shiny app</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_summary_table(aggregate_df, vid_lengths)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>aggregate_df</dt>
  <dd class="rd-dd">Dataframe containing students that have been filtered by selected demographics. Typically
obtained via <code>filter_demographics()</code></dd>
  <dt>vid_lengths</dt>
  <dd class="rd-dd">Dataframe containing video IDs with their associated video lengths. Typically
obtained via <code>get_video_lengths()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>summary_table</code>: Dataframe relevant summary statistics for each video.
</dl></p>



<h4>Examples</h4>
```{r get_summary_table_id_50, eval = TRUE }
get_summary_table(filt_segs, vid_lengths)

```





## get_top_hotspots_plot

<a id="get_top_hotspots_plot_alias"></a><h3>Obtains heatmap with segments of highest watch rate highlighted</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_top_hotspots_plot(filtered_segments, module, filtered_ch_markers)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filtered_segments</dt>
  <dd class="rd-dd">Dataframe of segments and corresponding watch counts filtered by demographics</dd>
  <dt>module</dt>
  <dd class="rd-dd">String of module (chapter) name to display</dd>
  <dt>filtered_ch_markers</dt>
  <dd class="rd-dd">List of values containing locations of where to put chapter markers</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>g</code>: ggplot heatmap object
</dl></p>



<h4>Examples</h4>
```{r get_top_hotspots_plot_id_52, eval = TRUE }
get_top_hotspots_plot(filtered_segments, module, filtered_ch_markers)

```





## get_unique_page_name

<a id="get_unique_page_name_alias"></a><h3>Remove duplicated name for each page</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_unique_page_name(each_page_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>each_page_df</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
all_pages
</dl></p>



<h4>Examples</h4>
```{r get_unique_page_name_id_53, eval = TRUE }
get_unique_page_name(each_page_df = each_page)

```





## get_video_comparison_plot

<a id="get_video_comparison_plot_alias"></a><h3>Obtains heatmap plot comparing videos against each other</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_video_comparison_plot(filtered_segments, module, filtered_ch_markers)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filtered_segments</dt>
  <dd class="rd-dd">Dataframe of segments and corresponding watch counts filtered by demographics</dd>
  <dt>module</dt>
  <dd class="rd-dd">String of module (chapter) name to display</dd>
  <dt>filtered_ch_markers</dt>
  <dd class="rd-dd">List of values containing locations of where to put chapter markers</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>g</code>: ggplot heatmap object
</dl></p>



<h4>Examples</h4>
```{r get_video_comparison_plot_id_54, eval = TRUE }
get_video_comparison_plot(filtered_segments, module, filtered_ch_markers)

```





## get_video_lengths

<a id="get_video_lengths_alias"></a><h3>Obtains dataframe with length of videos</h3>


<h4>Usage</h4>
<pre class="r"><code><div>get_video_lengths(filt_segs)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filt_segs</dt>
  <dd class="rd-dd">Dataframe containing students that have been filtered by selected demographics. Typically
obtained via <code>filter_demographics()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>vid_lengths</code>: Dataframe with the video lengths associated with each video ID.
</dl></p>



<h4>Examples</h4>
```{r get_video_lengths_id_55, eval = TRUE }
get_video_lengths(filt_segs)

```





## get_watched_segments

<a id="get_watched_segments_alias"></a><h3>Returns original dataframe with segment columns</h3>

<p class="rd-p">Returns original dataframe with segement columns. Segment columns are 0 if the segment 
is not located within the start and end values and 1 otherwise.</p>

<h4>Usage</h4>
<pre class="r"><code><div>get_watched_segments(data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>data</dt>
  <dd class="rd-dd">Dataframe containing start and end columns. This dataframe is typically obtained through 
<code>get_start_end_df()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>data</code>: Original input dataframe with new segment columns
</dl></p>



<h4>Examples</h4>
```{r get_watched_segments_id_57, eval = TRUE }
get_watched_segments(data = start_end_df)

```





## hash_username

<a id="hash_username_alias"></a><h3>Anonyanonymize the username column as hash strings in the input_df</h3>


<h4>Usage</h4>
<pre class="r"><code><div>hash_username(input_df)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_df</dt>
  <dd class="rd-dd">A dataframe containing username column</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
secure_df
</dl></p>



<h4>Examples</h4>
```{r hash_username_id_59, eval = TRUE }
hash_username(input_df = link_dat)

```





## infer_post_subcategories

<a id="infer_post_subcategories_alias"></a><h3>Infer the subcategories of each post, even if it's a response post or a comment.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>infer_post_subcategories(forum)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>forum</dt>
  <dd class="rd-dd">A forum dataframe.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The same dataframe with commentable_id filled in for everything.
</dl></p>








## join_engagement_item

<a id="join_engagement_item_alias"></a><h3>Join filtered summary engagement dataframe with filtered item dataframe to match "item " ,"item name"  and "nactive" 
convert all module item nacitve number to a constant to draw seperator line later</h3>


<h4>Usage</h4>
<pre class="r"><code><div>join_engagement_item(filtered_engagement, filtered_item)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>filtered_engagement</dt>
  <dd class="rd-dd"></dd>
  <dt>filtered_item</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
tower_df
</dl></p>



<h4>Examples</h4>
```{r join_engagement_item_id_61, eval = TRUE }
join_engagement_item(filtered_engagement = filtered_tower_engage,filtered_item = filtered_tower_item)

```





## join_extracted_assessment_data

<a id="join_extracted_assessment_data_alias"></a><h3>Join the results of extract_assessment_csv and extract_assessment_json</h3>

<p class="rd-p">This function joins the BigQuery and XML data. This is needed to populate the
BigQuery data with the title and label fields. If the ID of the assessment
does not occur in the XML, it is removed before preceding.</p>

<h4>Usage</h4>
<pre class="r"><code><div>join_extracted_assessment_data(extracted_csv, extracted_json)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>extracted_csv</dt>
  <dd class="rd-dd">the result of extract_assessment_csv</dd>
  <dt>extracted_json</dt>
  <dd class="rd-dd">the result of extract_assessment_csv</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A joined dataframe of the two incoming dataframes
</dl></p>








## join_problems_to_lookup

<a id="join_problems_to_lookup_alias"></a><h3>Left join extracted problems and lookup table</h3>


<h4>Usage</h4>
<pre class="r"><code><div>join_problems_to_lookup(extracted_problems, lookup_table)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>extracted_problems</dt>
  <dd class="rd-dd">the result of `clean_multiple_choice`</dd>
  <dt>lookup_table</dt>
  <dd class="rd-dd">The result of `create_question_lookup_from_json`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The left joined dataframe by id and choice_id, filtering out blank problems
</dl></p>








## join_summary_lookup

<a id="join_summary_lookup_alias"></a><h3>Join the summary and lookup tables</h3>


<h4>Usage</h4>
<pre class="r"><code><div>join_summary_lookup(summarised_scores, lookup_table)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>summarised_scores</dt>
  <dd class="rd-dd">the result of `get_mean_scores_filterable`</dd>
  <dt>lookup_table</dt>
  <dd class="rd-dd">The result of `create_question_lookup_from_json`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The inner join of the two dataframes
</dl></p>








## join_users_problems

<a id="join_users_problems_alias"></a><h3>The left join of joined problems and summarised scores</h3>


<h4>Usage</h4>
<pre class="r"><code><div>join_users_problems(joined_problems, summarised_scores)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>joined_problems</dt>
  <dd class="rd-dd">`problems_tbl` and `lookup_table` joined by `id` and
`item_response`</dd>
  <dt>summarised_scores</dt>
  <dd class="rd-dd">the result of `get_mean_scores_filterable`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A left joined dataframe of joined problems and summarised scores
</dl></p>








## make_engagement_eiffel_tower

<a id="make_engagement_eiffel_tower_alias"></a><h3>Make effiel tower plot :  all video/problem course items vs. number of engaging student</h3>


<h4>Usage</h4>
<pre class="r"><code><div>make_engagement_eiffel_tower(tower_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>tower_data</dt>
  <dd class="rd-dd"></dd>
</dl>


<h4>Examples</h4>
```{r make_engagement_eiffel_tower_id_66, eval = TRUE }
make_engagement_eiffel_tower(tower_data = reactive_tower_df())

```





## make_tidy_segments

<a id="make_tidy_segments_alias"></a><h3>Returns tidy (more useable) version of input dataframe</h3>

<p class="rd-p">Returns a tidy, more usable, version of the input dataframe. Segment information is 
converted into a single column using <code>gather()</code></p>

<h4>Usage</h4>
<pre class="r"><code><div>make_tidy_segments(data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>data</dt>
  <dd class="rd-dd">Dataframe containing segment information. This dataframe is typically obtained through 
<code>get_watched_segments()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>data</code>: Tidy version of input dataframe.
</dl></p>



<h4>Examples</h4>
```{r make_tidy_segments_id_69, eval = TRUE }
make_tidy_segments(data = start_end_df)

```





## obtain_raw_video_data

<a id="obtain_raw_video_data_alias"></a><h3>Reads raw uncleaned .csv into a dataframe</h3>

<p class="rd-p">Reads the raw .csv obtained through rbq.py into a dataframe. For documentation on how to use
rbq.py, please see www.temporaryreferencelink.com</p>

<h4>Usage</h4>
<pre class="r"><code><div>obtain_raw_video_data(input_course, testing&nbsp;=&nbsp;FALSE)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd">Name of course directory (ex. psyc1, spd1, marketing, etc)</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>data</code>: Dataframe containing raw student track log information
</dl></p>



<h4>Examples</h4>
```{r obtain_raw_video_data_id_71, eval = TRUE }
obtain_raw_video_data(input_course = 'psyc1')

```





## obtain_video_axis_data

<a id="obtain_video_axis_data_alias"></a><h3>Reads video_axis.csv file</h3>

<p class="rd-p">Reads the video_axis csv obtained through rbq.py into a dataframe. For documentation on how to use
rbq.py, please see www.temporaryreferencelink.com</p>

<h4>Usage</h4>
<pre class="r"><code><div>obtain_video_axis_data(input_course, testing&nbsp;=&nbsp;FALSE)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd">Name of course directory (ex. psyc1, spd1, marketing, etc)</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>video_axis</code>: Dataframe containing video course structure information
</dl></p>



<h4>Examples</h4>
```{r obtain_video_axis_data_id_72, eval = TRUE }
obtain_video_axis_data(input_course = 'psyc1')

```





## plot_assessment

<a id="plot_assessment_alias"></a><h3>Plot the summary assessment data</h3>


<h4>Usage</h4>
<pre class="r"><code><div>plot_assessment(summary_assessment)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>summary_assessment</dt>
  <dd class="rd-dd">the resulting dataframe from `summary_assessment`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A faceted bar plot
</dl></p>








## prepare_filterable_problems

<a id="prepare_filterable_problems_alias"></a><h3>Produce a dataframe clean dataframe of all questions</h3>

<p class="rd-p">Returns the question name and it's rounded percentage (out of 100). This
function is used to prepare the data table shown at the bottom of the problem
dashboard.</p>

<h4>Usage</h4>
<pre class="r"><code><div>prepare_filterable_problems(summarised_scores, lookup_table)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>summarised_scores</dt>
  <dd class="rd-dd">the result of `get_mean_scores_filterable`</dd>
  <dt>lookup_table</dt>
  <dd class="rd-dd">The result of `create_question_lookup_from_json`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe with the question and percent correct.
</dl></p>








## prepare_json

<a id="prepare_json_alias"></a><h3>Prepare the JSON file for joining with the XML file.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_json(json)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>json</dt>
  <dd class="rd-dd">A JSON file containing information about the course elements.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe with four columns: <code>commentable_id</code>, <code>display_name</code>, <code>discussion_category</code>, and <code>discussion_target</code>.
</dl></p>








## prepare_page_name

<a id="prepare_page_name_alias"></a><h3>Get non-video and non-problem element name 
And create a chapter/module column for all these course elements</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_page_name(course_axis)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>course_axis</dt>
  <dd class="rd-dd">dataframe containing all course elements information</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
page_name
</dl></p>



<h4>Examples</h4>
```{r prepare_page_name_id_77, eval = TRUE }
prepare_page_name(course_axis =  read_course_axis)

```





## prepare_posts

<a id="prepare_posts_alias"></a><h3>Prepare the forum posts.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_posts(forum)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>forum</dt>
  <dd class="rd-dd">A dataframe with one post per row.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The prepared forum posts data.
</dl></p>








## prepare_searches

<a id="prepare_searches_alias"></a><h3>Prepare the forum searches dataframe.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_searches(forum)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>forum</dt>
  <dd class="rd-dd">A dataframe with one search event per row.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The forum searches data with a new column for activity level.
</dl></p>



<h4>Examples</h4>
```{r prepare_searches_id_79, eval = TRUE }
prepare_searches(forum)

```





## prepare_tidy_page

<a id="prepare_tidy_page_alias"></a><h3>Prepare tidy page tracklog data for making page summary table</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_tidy_page(page_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>page_data</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
log_data
</dl></p>



<h4>Examples</h4>
```{r prepare_tidy_page_id_80, eval = TRUE }
prepare_tidy_page(page_data = read_page_dirt)

```





## prepare_video_data

<a id="prepare_video_data_alias"></a><h3>Converts columns into proper variable types and adds additional columns with video information</h3>

<p class="rd-p">Additional columns added:
- <code>max_stop_times</code>: proxy for video length
- <code>course_order</code>: occurrence of video within course structure
- <code>index_chapter</code>: occurrence of chapter within course structure
- <code>chapter_name</code>: name of chapter</p>

<h4>Usage</h4>
<pre class="r"><code><div>prepare_video_data(video_data, video_axis)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>video_axis</dt>
  <dd class="rd-dd">A dataframe containing course structure information. Contains columns course_order, index_chapter, chapter_name</dd>
  <dt>data</dt>
  <dd class="rd-dd">Raw input dataframe to be transformed. <code>data</code> is obtained through <code>obtain_raw_video_data()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>prepared_data</code>: The prepared data with converted variable types and extra columns
</dl></p>



<h4>Examples</h4>
```{r prepare_video_data_id_81, eval = TRUE }
prepare_video_data(data)

```





## prepare_views

<a id="prepare_views_alias"></a><h3>Prepare the forum views dataframe.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_views(forum)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>forum</dt>
  <dd class="rd-dd">A dataframe with one read event per row.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The prepared forum views data.
</dl></p>



<h4>Examples</h4>
```{r prepare_views_id_82, eval = TRUE }
prepare_views(forum)

```





## prepare_words

<a id="prepare_words_alias"></a><h3>Prepare the forum words.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_words(forum)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>forum</dt>
  <dd class="rd-dd">A dataframe with one row per post.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
The dataframe with each row containing a word, prepared for joining with the forum elements.
</dl></p>








## prepare_xml

<a id="prepare_xml_alias"></a><h3>Prepare the XML file for joining with the JSON file.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>prepare_xml(xml)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>xml</dt>
  <dd class="rd-dd">An XML file containing information about the course elements.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe with three columns: <code>display_name</code>, <code>discussion_category</code>, and <code>discussion_target</code>.
</dl></p>








## read_course_axis

<a id="read_course_axis_alias"></a><h3>Import course_axis.csv files based on specified course folder name</h3>


<h4>Usage</h4>
<pre class="r"><code><div>read_course_axis(input_course)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
course_axis
</dl></p>



<h4>Examples</h4>
```{r read_course_axis_id_85, eval = TRUE }
read_course_axis(input_couse = "psyc1")

```





## read_dirt_engagement_data

<a id="read_dirt_engagement_data_alias"></a><h3>Reads in tower_engage_dirt.csv file</h3>


<h4>Usage</h4>
<pre class="r"><code><div>read_dirt_engagement_data(input_course)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd">Name of course directory (ex. psyc1, spd1, marketing, etc)</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
<code>tower_engage</code>: Dataframe containing student engagement information with videos and problems
</dl></p>



<h4>Examples</h4>
```{r read_dirt_engagement_data_id_86, eval = TRUE }
read_dirt_engagement_data(input_course = 'psyc1')

```





## read_link_dirt

<a id="read_link_dirt_alias"></a><h3>Import external_link_dirt.csv files based on specified course folder name</h3>


<h4>Usage</h4>
<pre class="r"><code><div>read_link_dirt(input_course)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
link_dirt
</dl></p>



<h4>Examples</h4>
```{r read_link_dirt_id_87, eval = TRUE }
read_link_dirt(input_couse = "psyc1")

```





## read_page_dirt

<a id="read_page_dirt_alias"></a><h3>Import page_dirt.csv files from specified course folder name</h3>


<h4>Usage</h4>
<pre class="r"><code><div>read_page_dirt(input_course)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd"></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
page_dirt
</dl></p>



<h4>Examples</h4>
```{r read_page_dirt_id_88, eval = TRUE }
read_page_dirt(input_couse = "psyc1")

```





## set_activity_level

<a id="set_activity_level_alias"></a><h3>Set three levels for students total spending time on course based on tracklog link data</h3>


<h4>Usage</h4>
<pre class="r"><code><div>set_activity_level(link_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>link_data</dt>
  <dd class="rd-dd">dataframe containing the information of student click any links in the edx course</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
link_data
</dl></p>



<h4>Examples</h4>
```{r set_activity_level_id_91, eval = TRUE }
set_activity_level(link_data = read_link_dirt)

```





## summarise_joined_assessment_data

<a id="summarise_joined_assessment_data_alias"></a><h3>Summarise assessment data for plotting</h3>

<p class="rd-p">This function checks that the number of points possible does not vary within
title-label groups.</p>

<h4>Usage</h4>
<pre class="r"><code><div>summarise_joined_assessment_data(joint_assessment, trunc_length&nbsp;=&nbsp;20)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>joint_assessment</dt>
  <dd class="rd-dd">The result of join_extracted_assessment_data</dd>
  <dt>trunc_length</dt>
  <dd class="rd-dd">The length of that the label should be truncated to. Do
set to less than 4</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A summarised dataframe of the average scores in each area.
</dl></p>








## summarise_scores_by_chapter

<a id="summarise_scores_by_chapter_alias"></a><h3>Summarise scores by chapter</h3>

<p class="rd-p">Calculates the average score on problems for each of the chapters based.</p>

<h4>Usage</h4>
<pre class="r"><code><div>summarise_scores_by_chapter(summarised_scores, lookup_table)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>summarised_scores</dt>
  <dd class="rd-dd">the result of `get_mean_scores_filterable`</dd>
  <dt>lookup_table</dt>
  <dd class="rd-dd">The result of `create_question_lookup_from_json`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A dataframe where each row is a chapter that contains the average
  score on that chapter
</dl></p>








## tally_correct_answers

<a id="tally_correct_answers_alias"></a><h3>Count the number of correct answers for each question.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>tally_correct_answers(joined_scores)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>joined_scores</dt>
  <dd class="rd-dd">`problems_tbl` and `lookup_table` joined by `id` and
`item_response`</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
A summarised dataframe of correct counts
</dl></p>








## wrangle_forum

<a id="wrangle_forum_alias"></a><h3>Write the forum posts and forum words to csv.</h3>


<h4>Usage</h4>
<pre class="r"><code><div>wrangle_forum(posts_input_path, views_input_path, searches_input_path, json_input_path, xml_input_path, posts_output_path, words_output_path, views_output_path, searches_output_path, elements_output_path)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>posts_input_path</dt>
  <dd class="rd-dd">The path to the CSV file containing the forum posts data.</dd>
  <dt>views_input_path</dt>
  <dd class="rd-dd">The path to the CSV file containing the forum reads data.</dd>
  <dt>searches_input_path</dt>
  <dd class="rd-dd">The path to the CSV file containing the forum searches data.</dd>
  <dt>json_input_path</dt>
  <dd class="rd-dd">The path to the JSON file containing data on all course elements.</dd>
  <dt>xml_input_path</dt>
  <dd class="rd-dd">The path to the XML file containing data on the course structure.</dd>
  <dt>posts_output_path</dt>
  <dd class="rd-dd">The desired path to which to write the prepared forum posts dataframe.</dd>
  <dt>words_output_path</dt>
  <dd class="rd-dd">The desired path to which to write the prepared forum words dataframe.</dd>
  <dt>views_output_path</dt>
  <dd class="rd-dd">The desired path to which to write the prepared forum views dataframe.</dd>
  <dt>searches_output_path</dt>
  <dd class="rd-dd">The desired path to which to write the prepared forum searches dataframe.</dd>
  <dt>elements_output_path</dt>
  <dd class="rd-dd">The desired path to which to write the prepared forum elements dataframe.</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
None.
</dl></p>



<h4>Examples</h4>
```{r wrangle_forum_id_104, eval = TRUE }
wrangle_forum(csv_path, json_path, xml_path)

```





## wrangle_link_page

<a id="wrangle_link_page_alias"></a><h3>Reads in three csv files getting from rbq.py : course_axis.csv, external_link_dirt.csv and page_dirt.csv
Perform wrangling 
Export three csv files for building link_page_dashabord: external_link.csv, page.csv and page_name.csv</h3>


<h4>Usage</h4>
<pre class="r"><code><div>wrangle_link_page(input_course)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd"></dd>
</dl>


<h4>Examples</h4>
```{r wrangle_link_page_id_105, eval = TRUE }
wrangle_link_page(input_cours = "psyc1")

```





## wrangle_overview_engagement

<a id="wrangle_overview_engagement_alias"></a><h3>Output cleaned engagement data into corresponding course directory</h3>

<p class="rd-p">This function will automatically read a file named "tower_engage_dirt.csv"
from the specified course directory and output a csv named "tower_engage.csv" in the same directory</p>

<h4>Usage</h4>
<pre class="r"><code><div>wrangle_overview_engagement(input_course)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd">String of course directory name</dd>
</dl>


<h4>Examples</h4>
```{r wrangle_overview_engagement_id_106, eval = TRUE }
wrangle_video(input_course = "psyc1")

```





## wrangle_video

<a id="wrangle_video_alias"></a><h3>Outputs cleaned video data into corresponding course directory</h3>

<p class="rd-p">This function will automatically read a file named "generalized_video_heat.csv"
from the specified course directory and output a csv named "wrangled_video.csv" in the same
directory</p>

<h4>Usage</h4>
<pre class="r"><code><div>wrangle_video(input_course, testing&nbsp;=&nbsp;FALSE)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd">String of course directory name</dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
No value returned
</dl></p>



<h4>Examples</h4>
```{r wrangle_video_id_107, eval = TRUE }
wrangle_video(input_course = "psyc1")

```





## write_link_clean

<a id="write_link_clean_alias"></a><h3>Export the tidy link dataframe</h3>


<h4>Usage</h4>
<pre class="r"><code><div>write_link_clean(input_course, cleaned_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd"></dd>
  <dt>cleaned_data</dt>
  <dd class="rd-dd">tidy link dataframe</dd>
</dl>


<h4>Examples</h4>
```{r write_link_clean_id_108, eval = TRUE }
write_link_clean(input_course = "psyc1",cleaned_data = get_module_of_link )

```





## write_page_clean

<a id="write_page_clean_alias"></a><h3>Export the tidy page dataframe</h3>


<h4>Usage</h4>
<pre class="r"><code><div>write_page_clean(input_course, cleaned_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd"></dd>
  <dt>cleaned_data</dt>
  <dd class="rd-dd">tidy page dataframe</dd>
</dl>


<h4>Examples</h4>
```{r write_page_clean_id_109, eval = TRUE }
write_page_clean(input_course = "psyc1",cleaned_data = prepare_tidy_page)

```





## write_page_name

<a id="write_page_name_alias"></a><h3>Export the tidy course axis dataframe containing all non-video and non-problem elements with module/chapter information</h3>


<h4>Usage</h4>
<pre class="r"><code><div>write_page_name(input_course, cleaned_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd"></dd>
  <dt>cleaned_data</dt>
  <dd class="rd-dd">tidy page_name dataframe</dd>
</dl>


<h4>Examples</h4>
```{r write_page_name_id_110, eval = TRUE }
write_page_name(input_course = "psyc1",cleaned_data = prepare_page_name)

```





## write_tidy_engagement_data

<a id="write_tidy_engagement_data_alias"></a><h3>Output cleaned student engagement data as csv</h3>

<p class="rd-p">Writes cleaned data as a csv into the course correct directory</p>

<h4>Usage</h4>
<pre class="r"><code><div>write_tidy_engagement_data(input_course, cleaned_data)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd">Name of course directory (ex. psyc1, spd1, marketing, etc)</dd>
  <dt>cleaned_data</dt>
  <dd class="rd-dd">Dataframe containing cleaned data.</dd>
</dl>


<h4>Examples</h4>
```{r write_tidy_engagement_data_id_111, eval = TRUE }
write_tidy_engagement_data(input_course = 'psyc1', cleaned_data= clean_engagement_data)

```





## write_wrangled_video_data

<a id="write_wrangled_video_data_alias"></a><h3>Outputs cleaned data as csv</h3>

<p class="rd-p">Writes cleaned data as a csv into the course correct directory</p>

<h4>Usage</h4>
<pre class="r"><code><div>write_wrangled_video_data(input_course, cleaned_data, testing&nbsp;=&nbsp;FALSE)</div></code></pre>

<h4>Arguments</h4>
<dl class="rd-dl">
  <dt>input_course</dt>
  <dd class="rd-dd">Name of course directory (ex. psyc1, spd1, marketing, etc)</dd>
  <dt>cleaned_data</dt>
  <dd class="rd-dd">Dataframe containing cleaned data. This cleaned data is typically obtained through 
<code>make_tidy_segments()</code></dd>
</dl>

  <h4>Value</h4>

  <p class="rd-p"><dl>
No return value
</dl></p>



<h4>Examples</h4>
```{r write_wrangled_video_data_id_112, eval = TRUE }
write_wrangled_video_data(input_course = 'psyc1', cleaned_data=start_end_df)

```

